(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(42),r=a.n(c),o=(a(60),a(16)),i=a(3),l=a(110),d=a(0),m={hidden:{opacity:0},visible:{opacity:1},transition:{type:"tween",delay:2,duration:5,ease:"easeInOut"}},j=function(e){var t=e.history;return Object(s.useEffect)((function(){localStorage.getItem("isAuthenicated")&&t.push("/dashboard")}),[t]),Object(d.jsxs)("div",{className:"landing-div",children:[Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-sucess ",children:Object(d.jsxs)("div",{className:"container-fluid box",children:[Object(d.jsx)("a",{className:"navbar-brand mx-4",href:"/",children:"Movies"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarNav",children:Object(d.jsxs)("ul",{className:"navbar-nav px-1  ",style:{marginLeft:"auto"},children:[Object(d.jsx)("li",{className:"nav-item ",children:Object(d.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/login",children:"Login"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)("a",{className:"nav-link ","aria-current":"page",href:"/register",children:"Register"})})]})})]})}),Object(d.jsx)("div",{className:"landing-wrapper d-flex flex-column h-100 align-items-center justify-content-center text-center",children:Object(d.jsx)(l.a.h1,{variants:m,initial:"hidden",animate:"visible",children:"Welcome To The World Of Movies "})})]})},b=a(18),u=a(10),h=a(2),p=a(4),v=a.n(p),x=a(9),O=a.n(x),f={hidden:{opacity:0,x:"250vw"},visible:{opacity:1,x:"0"},transition:{type:"spring",damping:10,stiffness:50}},g=function(e){var t=e.history;Object(s.useEffect)((function(){localStorage.getItem("isAuthenicated")&&t.push("/dashboard")}),[t]);var a=Object(s.useState)({username:"",email:"",password:"",errors:{}}),n=Object(h.a)(a,2),c=n[0],r=n[1],i=function(e){var t=e.target.name,a=e.target.value;r(Object(u.a)(Object(u.a)({},c),{},Object(b.a)({},t,a)))};return Object(d.jsx)("div",{className:"d-flex align-items-center light-blue-gradient",children:Object(d.jsx)(l.a.div,{variants:f,initial:"hidden",animate:"visible",className:"container",children:Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsx)("div",{className:"card rounded-0 shadow",children:Object(d.jsxs)("div",{className:"card-body",children:[c.errors.message&&Object(d.jsx)("div",{className:"card-title",children:c.errors.message}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),r({errors:{}}),v()({url:"/api/users/signin",method:"POST",data:{username:c.username,email:c.email,password:c.password}}).then((function(e){window.localStorage.setItem("userId",e.data._id);var a=e.data.isAuthenicated;window.localStorage.setItem("isAuthenicated",a),window.localStorage.setItem("Name",c.username),t.push("/dashboard")})).catch((function(e){var t=e.response.data;r(Object(u.a)(Object(u.a)({},c),{},{errors:t}))}))}(e)},children:[Object(d.jsxs)("div",{className:"form-group p-1",children:[Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",className:O()("form-control",{"has-error":c.errors.username}),id:"exampleInputUserName",name:"username",placeholder:"Username",value:c.username||"",onChange:function(e){return i(e)}}),c.errors.username&&Object(d.jsx)("span",{className:"help-box red-text",children:c.errors.username})]}),Object(d.jsxs)("div",{className:"form-group p-1",children:[Object(d.jsx)("label",{children:"Email address"}),Object(d.jsx)("input",{type:"email",className:O()("form-control",{"has-error":c.errors.email}),id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",name:"email",value:c.email||"",onChange:function(e){return i(e)}}),c.errors.email&&Object(d.jsx)("span",{className:"help-box red-text",children:c.errors.email})]}),Object(d.jsxs)("div",{className:"form-group p-1",children:[Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("input",{type:"password",className:O()("form-control ",{"has-error":c.errors.password}),id:"exampleInputPassword1",placeholder:"Password",name:"password",value:c.password||"",onChange:function(e){return i(e)}}),c.errors.password&&Object(d.jsx)("span",{className:"help-box red-text",children:c.errors.password})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary w-100 mt-3",children:"Submit"}),Object(d.jsx)("div",{className:"mt-2 ",children:Object(d.jsxs)("h5",{children:["Don't Have an account  ",Object(d.jsx)(o.b,{to:"/register",className:"txt-primary",children:Object(d.jsx)("span",{children:" Sign Up"})})]})})]})]})})})})})})},N={hidden:{opacity:0,x:"400vw"},visible:{opacity:1,x:"0"},transition:{type:"spring",delay:.5,duration:1,stiffness:30}},y=function(e){var t=e.history;Object(s.useEffect)((function(){localStorage.getItem("isAuthenicated")&&t.push("/dashboard")}),[t]);var a=Object(s.useState)({username:"",email:"",password:"",password1:"",errors:{}}),n=Object(h.a)(a,2),c=n[0],r=n[1],i=function(e){var t=e.target.name,a=e.target.value;r(Object(u.a)(Object(u.a)({},c),{},Object(b.a)({},t,a)))};return Object(d.jsx)("div",{className:"d-flex align-items-center light-blue-gradient",children:Object(d.jsx)(l.a.div,{variants:N,initial:"hidden",animate:"visible",className:"container",children:Object(d.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsx)("div",{className:"card rounded-0 shadow",children:Object(d.jsxs)("div",{className:"card-body",children:[c.errors.message&&Object(d.jsx)("div",{className:"card-title",children:c.errors.message}),Object(d.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),r({errors:{}}),v()({url:"/api/users/signup",method:"POST",data:{username:c.username,email:c.email,password:c.password,password1:c.password1}}).then((function(e){return t.push("/login")})).catch((function(e){var t=e.response.data;r(Object(u.a)(Object(u.a)({},c),{},{errors:t}))}))}(e)},children:[Object(d.jsxs)("div",{className:"form-group p-1",children:[Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("input",{type:"text",className:O()("form-control",{"has-error":c.errors.username}),id:"exampleInputUserName",name:"username",placeholder:"Username",value:c.username||"",onChange:function(e){return i(e)}}),c.errors.username&&Object(d.jsx)("span",{className:"help-box red-text",children:c.errors.username})]}),Object(d.jsxs)("div",{className:"form-group p-1",children:[Object(d.jsx)("label",{children:"Email address"}),Object(d.jsx)("input",{type:"email",className:O()("form-control",{"has-error":c.errors.email}),id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",name:"email",value:c.email||"",onChange:function(e){return i(e)}}),c.errors.email&&Object(d.jsx)("span",{className:"help-box red-text",children:c.errors.email})]}),Object(d.jsxs)("div",{className:"form-group p-1",children:[Object(d.jsx)("label",{children:"Password"}),Object(d.jsx)("input",{type:"password",className:O()("form-control ",{"has-error":c.errors.password}),id:"exampleInputPassword1",placeholder:"Password",name:"password",value:c.password||"",onChange:function(e){return i(e)}}),c.errors.password&&Object(d.jsx)("span",{className:"help-box red-text",children:c.errors.password})]}),Object(d.jsxs)("div",{className:"form-group p-1",children:[Object(d.jsx)("label",{children:"Confirm Password"}),Object(d.jsx)("input",{type:"password",className:O()("form-control ",{"has-error":c.errors.password1}),id:"exampleInputPassword1",placeholder:"Confirm Password",name:"password1",value:c.password1||"",onChange:function(e){return i(e)}}),c.errors.password1&&Object(d.jsx)("span",{className:"help-box red-text",children:c.errors.password1})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary w-100 mt-3",children:"Submit"}),Object(d.jsx)("div",{className:"mt-2 ",children:Object(d.jsxs)("h5",{children:["Have an account  ",Object(d.jsx)(o.b,{to:"/login",className:"txt-primary",children:Object(d.jsx)("span",{children:" Log In"})})]})})]})]})})})})})})},w=a(29),I=function(e){return Object(d.jsxs)("header",{className:"banner",style:{backgroundSize:"cover",backgroundImage:"url(".concat(e.image,")"),backgroundRepeat:"no-repeat"},children:[Object(d.jsxs)("div",{className:"banner__contents",children:[Object(d.jsx)("h1",{className:"banner__title",children:e.title}),Object(d.jsx)("p",{className:"banner__description",children:e.text})]}),Object(d.jsx)("div",{className:"banner--fadeBottom"})]})},S="https://api.themoviedb.org/3/",_="d5d383fa16644eddf8ef58f1a2e6d7ce",C="http://image.tmdb.org/t/p/",F="w1280",T="w500",k=function(e){var t=e.actor,a=e.image,s=e.movieId,n=e.movieName,c=e.characterName,r=e.movie;return t?Object(d.jsx)("div",{className:"projectCard col-md-6 col-lg-3 my-2",children:Object(d.jsx)("figure",{className:"projectCard_wrapper",children:Object(d.jsx)("img",{className:"projectCard_image",alt:c,src:"".concat(C).concat(T).concat(a)})})}):Object(d.jsx)("div",{className:"projectCard col-md-6 col-lg-3 my-2",children:Object(d.jsx)("figure",{className:"projectCard_wrapper",children:Object(d.jsx)("a",{href:"/movie/".concat(s,"/").concat(r),children:Object(d.jsx)("img",{className:"projectCard_image",alt:n,src:a})})})})},L=function(){var e=Object(s.useState)(""),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(i.g)();return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{class:"d-flex px-1 py-1",onSubmit:function(e){return function(e){e.preventDefault(),c.push({pathname:"/searchResults",data:{name:a}})}(e)},children:[Object(d.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search",name:"MovieName",value:a,onChange:function(e){return n(e.target.value)}}),Object(d.jsx)("button",{class:"btn btn-outline-primary ",type:"submit",children:"Search"})]})})},E=function(){var e=window.localStorage.getItem("Name"),t=Object(i.g)();return Object(d.jsx)("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:Object(d.jsxs)("div",{className:"container-fluid box",children:[Object(d.jsxs)("a",{className:"navbar-brand mx-4",href:"/",children:["Hi ",e,"!"]}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarNav",children:Object(d.jsxs)("ul",{className:"navbar-nav ",style:{marginLeft:"auto"},children:[Object(d.jsx)("li",{className:"nav-item px-2",children:Object(d.jsx)("a",{className:"nav-link active fav","aria-current":"page",href:"/dashboard",children:"Home"})}),Object(d.jsx)("li",{className:"nav-item px-2",children:Object(d.jsx)("a",{className:"nav-link  fav","aria-current":"page",href:"/myFavourites",children:"Favourite"})}),Object(d.jsx)(L,{}),Object(d.jsx)("li",{className:"nav-item py-1 px-2",children:Object(d.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){v()({url:"/api/users/logout",method:"POST"}).then((function(e){window.localStorage.clear(),t.push("/login")})).catch((function(e){return console.log(e)}))},children:"Logout"})})]})})]})})},R=function(e){var t=Object(s.useState)([]),a=Object(h.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(null),o=Object(h.a)(r,2),i=o[0],l=o[1],m=Object(s.useState)(!0),j=Object(h.a)(m,2),b=j[0],u=j[1],p=Object(s.useState)(0),v=Object(h.a)(p,2),x=v[0],O=v[1];Object(s.useEffect)((function(){var e="".concat(S,"movie/popular?api_key=").concat(_,"&language=en-US&page=1");f(e)}),[]);var f=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){c([].concat(Object(w.a)(n),Object(w.a)(e.results))),l(i||e.results[Math.floor(Math.random()*e.results.length)]),O(e.page)}),u(!1)).catch((function(e){return console.error("Error:",e)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(E,{}),Object(d.jsxs)("div",{className:"container-fluid px-0 ",style:{margin:"0",paddingTop:"0.4px"},children:[i&&Object(d.jsx)(I,{image:"".concat(C).concat(F).concat(i.backdrop_path),title:i.original_title,text:i.overview}),Object(d.jsxs)("div",{className:"container mt-3",children:[Object(d.jsx)("h1",{style:{color:"#fff"},children:"Latest Movies"}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"row",children:n&&n.map((function(e){return Object(d.jsx)(k,{image:e.poster_path?"".concat(C).concat(T).concat(e.poster_path):null,movieId:e.id,movieName:e.original_title||e.orginal_name,movie:"movie"})}))})]}),b&&Object(d.jsx)("div",{children:"Loading..."}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){var e;e="".concat(S,"movie/popular?api_key=").concat(_,"&language=en-US&page=").concat(x+1),f(e)},children:"Load More"})})]})]})},P=a(53),M=function(e){var t=e.component,a=Object(P.a)(e,["component"]);return Object(d.jsx)(i.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return localStorage.getItem("isAuthenicated")?Object(d.jsx)("div",{children:Object(d.jsx)(t,Object(u.a)({},e))}):Object(d.jsx)(i.a,{to:"/login"})}}))},U=function(){var e=Object(s.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),r=Object(h.a)(c,2),o=r[0],i=r[1],l={userFrom:localStorage.getItem("userId")};Object(s.useEffect)((function(){m()}),[]);var m=function(){v.a.post("/api/favourites/getFavouredMovie",l).then((function(e){e.data.success?(n(e.data.favourites),i(!1)):alert("Failed to get subscription videos")}))},j=a.map((function(e,t){return Object(d.jsxs)("tr",{scope:"row",children:[Object(d.jsx)("td",{children:e.movieTitle||e.name||e.orginal_name}),Object(d.jsxs)("td",{children:[e.movieRunTime," mins"]}),Object(d.jsx)("td",{children:Object(d.jsx)("button",{onClick:function(){return function(e,t){var a={movieId:e,userFrom:t};v.a.post("/api/favourites/removeFromFavorite",a).then((function(e){e.data.success?m():alert("Failed to Remove From Favorite")}))}(e.movieId,e.userFrom)},className:"banner__button",children:" Remove "})})]},t)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(E,{}),Object(d.jsx)("div",{className:"container mt-5 p-5",children:!o&&Object(d.jsxs)("table",{className:"table table-dark table-hover",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:"Movie Title"}),Object(d.jsx)("th",{scope:"col",children:"Movie RunTime"}),Object(d.jsx)("td",{scope:"col",style:{color:"white"},children:"Remove from favorites"})]})}),Object(d.jsx)("tbody",{children:j})]})})]})},A=function(e){var t=Object(i.g)(),a=e.location.data&&e.location.data.name;console.log(a),a||t.push("/dashboard");var n=Object(s.useState)([]),c=Object(h.a)(n,2),r=c[0],o=c[1],l=Object(s.useState)(null),m=Object(h.a)(l,2),j=m[0],b=m[1];Object(s.useEffect)((function(){var e="https://api.themoviedb.org/3/search/multi?api_key=d5d383fa16644eddf8ef58f1a2e6d7ce&language=en-US&query=".concat(a,"&page=1&include_adult=false");u(e)}),[a]);var u=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){o(e.results),b(e.results[0])})).catch((function(e){return console.error("Error:",e)}))};return Object(d.jsxs)("div",{children:[Object(d.jsx)(E,{}),Object(d.jsxs)("div",{className:"container-fluid px-0 ",style:{margin:"0",paddingTop:"0.4px"},children:[j&&Object(d.jsx)(I,{image:"".concat(C).concat(F).concat(j.backdrop_path),title:j.original_title||j.original_name,text:j.overview}),Object(d.jsxs)("div",{className:"container mt-3",children:[Object(d.jsx)("h1",{style:{color:"#fff"},children:"Search Results"}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"row",children:r&&r.map((function(e){return Object(d.jsx)(k,{image:e.poster_path?"".concat(C).concat(T).concat(e.poster_path):null,movieId:e.id,movieName:e.original_title||e.original_name,movie:e.media_type})}))})]})]})]})},D=a(44),B=a(47),H=a.n(B),G=function(e){var t=e.movieId,a=e.userFrom,n=e.movieInfo.title||e.movieInfo.name||e.movieInfo.original_name,c=e.movieInfo.backdrop_path,r=e.movieInfo.runtime,o=Object(s.useState)(0),i=Object(h.a)(o,2),l=i[0],m=i[1],j=Object(s.useState)(!1),b=Object(h.a)(j,2),u=b[0],p=b[1],x={movieId:t,userFrom:a,movieTitle:n,moviePost:c,movieRunTime:r};return Object(s.useEffect)((function(){v.a.post("/favourites/favouriteNumber",x).then((function(e){e.data.success?m(e.data.subscribeNumber):alert("Failed to get Favorite Number")})),v.a.post("/favourites/favourited",x).then((function(e){e.data.success?p(e.data.subcribed):alert("Failed to get Favorite Information")}))}),[]),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:"banner__button",onClick:function(){u?v.a.post("/favourites/removeFromFavorite",x).then((function(e){e.data.success?(m(l-1),p(!u)):alert("Failed to Remove From Favorite")})):v.a.post("/favourites/addToFavorite",x).then((function(e){e.data.success?(m(l+1),p(!u)):alert("Failed to Add To Favorite")}))},children:[u?"Not Favorite":"Add to Favorite"," ",l]})})},V=a(111);var W=function(e){console.log(e);var t=Object(s.useState)(""),a=Object(h.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(!1),o=Object(h.a)(r,2),i=o[0],l=o[1],m=function(t){t.preventDefault();var a={writer:localStorage.getItem("userId"),postId:e.postId,responseTo:e.comment._id,content:n};v.a.post("/api/comment/saveComment",a).then((function(t){t.data.success?(c(""),l(!i),e.refreshFunction(t.data.result)):alert("Failed to save Comment")}))},j=[Object(d.jsx)("span",{onClick:function(){l(!i)},children:"Reply to "},"comment-basic-reply-to")];return Object(d.jsxs)("div",{children:[Object(d.jsx)(V.a,{actions:j,author:Object(d.jsx)("h4",{children:e.comment.writer&&e.comment.writer.username}),content:Object(d.jsx)("p",{children:e.comment.content})}),i&&Object(d.jsxs)("form",{className:"d-flex px-1 py-1 mt-4",onSubmit:m,children:[Object(d.jsx)("input",{className:"form-control me-2",type:"search","aria-label":"Search",onChange:function(e){c(e.currentTarget.value)},value:n,placeholder:"write some comments"}),Object(d.jsx)("button",{class:"btn btn-outline-primary ",type:"submit",onClick:m,children:"Submit"})]})]})};var z=function e(t){var a,c=Object(s.useState)(0),r=Object(h.a)(c,2),o=r[0],i=r[1],l=Object(s.useState)(!1),m=Object(h.a)(l,2),j=m[0],b=m[1];return Object(s.useEffect)((function(){var e=0;t.CommentLists.map((function(a){a.responseTo===t.parentCommentId&&e++})),i(e)}),[t.CommentLists,t.parentCommentId]),Object(d.jsxs)("div",{children:[o>0&&Object(d.jsxs)("p",{style:{fontSize:"14px",margin:0,color:"white"},onClick:function(){b(!j)},children:["View ",o," more comment(s)"]}),j&&(a=t.parentCommentId,t.CommentLists.map((function(s,c){return Object(d.jsx)(n.a.Fragment,{children:s.responseTo===a&&Object(d.jsxs)("div",{style:{width:"80%",marginLeft:"40px"},children:[Object(d.jsx)(W,{comment:s,postId:t.postId,refreshFunction:t.refreshFunction}),Object(d.jsx)(e,{CommentLists:t.CommentLists,parentCommentId:s._id,postId:t.postId,refreshFunction:t.refreshFunction})]})})})))]})},J=function(e){var t=Object(s.useState)(""),a=Object(h.a)(t,2),c=a[0],r=a[1],o=function(t){t.preventDefault();var a={content:c,writer:localStorage.getItem("userId"),postId:e.postId};console.log(a),v.a.post("/api/comment/saveComment",a).then((function(t){t.data.success?(r(""),e.refreshFunction(t.data.result)):alert("Failed to save Comment")}))};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h4",{children:[" Share your opinions about ",e.movieTitle," "]}),console.log(e.CommentLists),e.CommentLists&&e.CommentLists.map((function(t,a){return!t.responseTo&&Object(d.jsxs)(n.a.Fragment,{children:[Object(d.jsx)(W,{comment:t,postId:e.postId,refreshFunction:e.refreshFunction}),Object(d.jsx)(z,{CommentLists:e.CommentLists,postId:e.postId,parentCommentId:t._id,refreshFunction:e.refreshFunction})]})})),e.CommentLists&&0===e.CommentLists.length&&Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:"Be the first one who shares your thought about this movie"}),Object(d.jsxs)("form",{className:"d-flex px-1 py-1",onSubmit:o,children:[Object(d.jsx)("input",{className:"form-control me-2",type:"search","aria-label":"Search",onChange:function(e){r(e.currentTarget.value)},value:c,placeholder:"write some comments"}),Object(d.jsx)("button",{class:"btn btn-outline-primary ",type:"submit",onClick:o,children:"Submit"})]})]})},q=function(e){return Object(d.jsxs)("div",{className:"hvrbox p-2",children:[Object(d.jsx)("h5",{children:e.poster.name}),Object(d.jsx)("img",{src:"".concat(C).concat(T).concat(e.poster.poster_path),alt:"Mountains",class:"hvrbox-layer_bottom"}),Object(d.jsx)("div",{class:"hvrbox-layer_top",children:Object(d.jsx)("div",{class:"hvrbox-text",children:e.poster.overview})})]})},K=function(e){var t=e.movieInfo.genres,a=e.movieInfo.created_by&&e.movieInfo.created_by,s=e.movieInfo.seasons&&e.movieInfo.seasons;return"movie"===e.type?Object(d.jsxs)("div",{className:"container mt-5 bg-light",children:[Object(d.jsx)("h1",{className:"lead-5",children:"Movie Details"}),Object(d.jsxs)("div",{className:"row p-1",children:[Object(d.jsxs)("h5",{children:["Genres:",t&&t.map((function(e){return Object(d.jsx)("span",{className:"px-1 lead",children:e.name})}))]}),e.movieInfo.tagline&&Object(d.jsxs)("h5",{children:["Tagline:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.tagline})]}),Object(d.jsxs)("h5",{children:["Release Date:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.release_date})]}),Object(d.jsxs)("h5",{children:["Budget:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.budget})]}),Object(d.jsxs)("h5",{children:["Runtime:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.runtime})]}),Object(d.jsxs)("h5",{children:["Vote Average:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.vote_average})]})]})]}):Object(d.jsxs)("div",{className:"container mt-5 bg-light",children:[Object(d.jsx)("h1",{className:"lead-5",children:"Movie Details"}),Object(d.jsxs)("div",{className:"row p-1",children:[Object(d.jsxs)("h5",{children:["Created By:",a&&a.map((function(e){return Object(d.jsx)("span",{className:"px-1 lead",children:e.name})}))]}),Object(d.jsxs)("h5",{children:["Genres:",t&&t.map((function(e){return Object(d.jsx)("span",{className:"px-1 lead",children:e.name})}))]}),e.movieInfo.tagline&&Object(d.jsxs)("h5",{children:["Tagline:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.tagline})]}),Object(d.jsxs)("h5",{children:["Release Date:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.release_date})]}),Object(d.jsxs)("h5",{children:["Number of episodes:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.number_of_episodes})]}),Object(d.jsxs)("h5",{children:["Vote Average:",Object(d.jsx)("span",{className:"lead p-1",children:e.movieInfo.vote_average})]}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h5",{children:"Seasons:"}),s&&s.map((function(e){return e.poster_path&&Object(d.jsx)(q,{poster:e})}))]})]})]})},Q=function(e){var t=Object(s.useState)([]),a=Object(h.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)([]),o=Object(h.a)(r,2),i=o[0],l=o[1],m=Object(s.useState)([]),j=Object(h.a)(m,2),b=j[0],u=j[1],p=Object(s.useState)(!1),x=Object(h.a)(p,2),O=x[0],f=x[1],g=Object(s.useState)(""),N=Object(h.a)(g,2),y=N[0],w=N[1],T=e.match.params.movieId,L=e.match.params.type||"movie",R={movieId:T};Object(s.useEffect)((function(){v()({url:"".concat(S).concat(L,"/").concat(T,"?api_key=").concat(_,"&language=en-US"),method:"GET"}).then((function(e){c(e.data);var t="".concat(S).concat(L,"/").concat(T,"/credits?api_key=").concat(_);v()({url:t,method:"GET"}).then((function(e){l(e.data.cast)}))})).catch((function(e){console.log(e)})),v.a.post("/api/comment/getComments",R).then((function(e){e.data.success?u(e.data.comments):alert("Failed to get comments Info")}))}),[]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(E,{}),Object(d.jsxs)("div",{style:{width:"100%",margin:"0",paddingTop:"0.4px"},children:[n&&Object(d.jsx)(I,{image:"".concat(C).concat(F).concat(n.backdrop_path),title:n.original_title||n.original_name,text:n.overview}),Object(d.jsxs)("div",{className:"container mt-3 d-flex flex-row  justify-content-between",children:[Object(d.jsx)("button",{className:"banner__button ",onClick:function(){return e=n.name||n.title||n.orginal_name,void(""!==y?w(""):H()(e).then((function(e){var t=new URLSearchParams(new URL(e).search);w(t.get("v"))})).catch((function(e){return console.log(e)})));var e},children:"Watch Trailer"}),Object(d.jsx)(G,{movieInfo:n,movieId:T,userFrom:localStorage.getItem("userId")})]}),""!==y&&Object(d.jsx)("div",{className:"mt-2  ",children:Object(d.jsx)(D.a,{videoId:y,opts:{height:"390",width:"100%",playerVars:{autoplay:1}}})}),Object(d.jsx)(K,{movieInfo:n,type:L}),Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center"},className:"mt-3",children:Object(d.jsx)("button",{className:"banner__button",onClick:function(){f(!O)},children:"Toggle Actors"})}),O&&Object(d.jsx)("div",{className:"container mt-5",children:Object(d.jsx)("div",{className:"row",children:i&&i.map((function(e){return e.profile_path&&Object(d.jsx)(k,{actor:!0,image:e.profile_path,characterName:e.characterName})}))})}),Object(d.jsx)("div",{className:"container mt-5",children:Object(d.jsx)(J,{movieTitle:n.name||n.title||n.orginal_name,CommentLists:b,postId:T,refreshFunction:function(e){u(b.concat(e))}})})]})]})},X=function(){return Object(d.jsxs)(o.a,{children:[Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{exact:!0,path:"/",component:j}),Object(d.jsx)(i.b,{path:"/login",component:g}),Object(d.jsx)(i.b,{path:"/register",component:y})]}),Object(d.jsxs)(i.d,{children:[Object(d.jsx)(M,{path:"/dashboard",component:R}),Object(d.jsx)(M,{exact:!0,path:"/movie/:movieId/:type",component:Q}),Object(d.jsx)(M,{path:"/myFavourites",component:U}),Object(d.jsx)(M,{exact:!0,path:"/searchResults",component:A})]})]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,112)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(X,{}),document.getElementById("root")),Y()},60:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.3f959a17.chunk.js.map